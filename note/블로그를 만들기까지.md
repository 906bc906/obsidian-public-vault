---
title: 블로그를 만들기까지
date: 2022-10-11T00:52:34+09:00
last_modified_at: 2022-10-11T03:25:16+09:00
---
## 블로그를 왜 만들게 되었나

최근 학습을 하면서 기록을 하지 않고 그때 그때 필요한 것만 찾아서 하다보니 얼마 안가 다 까먹으면서 기록 남기기의 필요성을 절실히 느끼게 되었다.

글을 쓰는 이유는 크게 두 가지라고 생각한다.

1. 현재 배운 것을 글로 쓰면, 어떻게 구성할 것인가- 조직적인 측면을 생각해야되므로, 더 체계적인 학습이 가능해짐
2. 사람은 까먹기 마련이고 나중에 학습한 것을 다시 찾아봐야 하는데, 새로 다시 찾는 것과 '나의 언어'로 조직한 글을 읽는 것은 재습득 속도에 차이가 큼

글을 공유하는 이유 역시 크게 두 가지라고 생각한다.

1. 내가 학습한 것이 도움이 되는 내용이면 남들에게도 공유하고 싶어짐
2. 오류를 점검할 수 있음

즉, 글을 쓰고 공유하면 학습에 도움이 된다. 

블로그는 이런 학습을 위한 글쓰기에 최적화된 도구다.

남에게 보여주기 위한 글과 나만 보기 위한 글은 완성도 및 동기 측면에서 큰 차이가 있다. 나만 보기 위한 글은 아무래도 대충 쓰게 되고, 쓰다가도 금새 질리게 되지만, 남에게 보여주기 위한 글은 완성도를 신경쓰게 되고, 귀찮다가도 다시 부여잡고 글을 쓰게 한다.

## 기존의 시도

### VScode + Hugo + Github pages

2019년 즈음엔가 시도했다.

VScode는 좋은 코드 에디터지만 좋은 마크다운 에디터는 아니라고 느꼈다.

Hugo 또한 여러 가지 측면에서 표준 마크다운을 위한 SSG는 아니라고 느꼈다.

저 당시에는 Github action이 없었기 때문에 Github pages로 배포하려면 로컬 환경에서 수동으로 빌드 후 push 해야 했다. 정말 번거롭다.

글 하나를 쓰는 데에 너무나도 많은 시간이 들어가고, 글을 쓰더라도 마크다운이 비표준 템플릿으로 범벅이 되며, 배포하는 것도 고되다보니 손이 잘 안 갔다.

### Notion

노션은 마크다운 편집과 배포까지 자동으로 해주는, 진입 장벽이 낮은 사이트라고 생각한다.

노션은 고맙게도 동적으로 관리할 수 있는 table 등 마크다운 이상의 기능들을 지원한다. 하지만, 이는 다른 마크다운으로 export 또는 이전하는 것이 어렵게 하는 요소기도 하다.

또한 커스터마이징 한계가 명확하다. API를 지원하긴 하지만 당연하게도 쿼리 수에 한계가 있고 API 자체도 지원하는 기능이 한정적이다.

요약하자면 진입 장벽은 낮지만 그 이상으로 무언가 하기에는 답답한 플랫폼이라고 느꼈다.

### Tistory, Velog

단순 블로그로 쓴다면 좋긴 한데, 학습을 위한 플랫폼은 아니라고 느꼈다.

내가 쓴 글을 조직적으로 관리하고, 필요할 때 바로 꺼내 쓰기엔 불편했다. [Zettelkasten](https://en.wikipedia.org/wiki/Zettelkasten) 용도로는 부적합해서 조금 써보다가 비활성화했다.

## 사전조건

내가 정한 조건은 이렇다.

1. 마크다운으로 작성해야 한다
	- 익숙해지니까 마크다운으로 글을 쓰는게 정말 편하다
	- 비표준 템플릿 등 표준 마크다운을 벗어난 신택스는 최대한 피하고 싶다
		- 표준 마크다운을 벗어난, 특정 언어 종속 신택스를 채용하기 시작하면, 이 마크다운 문서들을 가지고 다른 SSG로 이전하는 것이 굉장히 번거로워진다
2. 남들이 보는 것만큼이나 내가 쓰고, 활용하기가 편해야 한다
	- 많은 플랫폼들이 놓치고 있는 부분이라고 생각
	- 내가 학습 용도로 재활용을 못 하면 의미가 없다
3. 무료
	- 돈이 없다

이 조건 하에 세부 사항을 결정했다.

### 마크다운 에디터

[옵시디언](#Obsidian)을 채택했다.

#### Typora

![typora screenshot](https://typora.io/img/new/toc.png)

굉장히 쉽고 좋은 마크다운 에디터.

하지만 유료로 전환되어서 사용을 중단했다.

#### VScode

![vscode screenshot](https://code.visualstudio.com/assets/home/home-screenshot-win.png)

VScode로 마크다운 편집을 시도한 적이 있긴 하다.

하지만 코드 에디터와 마크다운 에디터는 분리하는 것이 맞겠다는 생각이 들었다. 마크다운 에디터에 맞춰서 단축키를 설정하면 코드 에디터로 쓰는 것이 불편해지고, 그 반대도 마찬가지다.

또한 마크다운 익스텐션이 여러 가지 있긴 하지만 불완전하다고 느껴져서, VScode를 온전히 마크다운 에디터로 쓰기에도 좀 답답했다.

프로젝트의 README.md 쓰는 것 정도로는 써봄직한데, 그 이상은 번거롭다.

하지만 좋은 기능들도 있다. 특히 해당 디렉토리 안에 있는 모든 파일들을 벌크로 regex find/replace 하는 기능을 지원한다던가..

#### Obsidian

![](attachments/Pasted%20image%2020221011011113.png)

[obsidian 옵시디언](obsidian%20옵시디언.md)은 local 디렉토리의 마크다운 문서를 편집하는 에디터이며, 백링크, 그래프 등 knowledge base 용도로 특화된 기능들이 많다. 또한 [obsidian plugin](obsidian%20plugin.md)들도 굉장히 다양한 편.

개인적인 생각으로 학습을 위한 마크다운 에디터로 Obsidian 외의 대안이 없다. logseq는 느리며 롬 리서치는 비싸다.

특히나 Obsidian 플러그인들 중에 Anki와의 연동을 지원하는 것이 많은데 이게 학습에 큰 도움이 된다. 암만 글을 써봤자 안 읽으면 도루묵이다. Anki는 의식적으로 반복적인 학습을 할 수 있게 해주는데 이와 연동 할 수 있는 마크다운 에디터가.. 내가 알기론 없다.

VScode 스러운 단축키들도 있으며 원한다면 vim key bindings도 가능하다.

다만 아쉬운 점이라면 일렉트론 기반이라 VScode처럼 한 저장소 당 하나의 윈도우만 띄울 수 있다. 여러 노트를 난잡하게 띄워두고 여기 저기 알트탭으로 오가며 편집하는 것이 굉장히 불편하다. 화면 스플릿이나 플러그인으로 탭, 슬라이딩 패널 등을 할 수 있긴 하지만 그래도 여전히 불편하다.

또한 Obsidian은 자체적으로 Publish를 지원하는데 이게 좀 많이 비싸다. 월 $20.

기본적으로 표준 마크다운을 따르지만 위키링크 같은 부분들은 Obsidian 전용 마크다운 포맷을 쓰기 때문에 표준 마크다운으로 쓰려면 이를 비활성화 해야 한다.

### Static Site Generator

Jekyll 을 채택했다.

#### Hugo

go로 작성된 SSG로, 빌드가 빠르다.

하지만 단점이 몇 가지 있다.

1. trailing slash(URL 뒤에 붙는 `/`)를 제거할 수 없다
   
   제일 치명적인 문제인데, 이것 때문에 상대 경로를 제대로 걸 수가 없다. 수정하려면 마크다운 문서의 모든 링크 앞에 `../` 를 붙여줘야 되는데, 이러면 Hugo 에서는 링크 문제가 해결이 되기야 하지만 반대로 마크다운 에디터에서 링크 문제가 발생한다.
   
2. 테마가 적다
   
   개인적으로 마음에 드는 테마가 별로 없다.
   
3. 테마 커스터마이징이 어렵다
   
   단순히 HTML 레이아웃 바꾸거나 하는건 쉽지만, 복잡한 기능을 달기 위해 다른 사람이 제작한 플러그인을 탑재하는 것이 좀 어렵다고 느껴졌다.

trailing slash 문제가 정말 너무나도 심각해서 포기했다.

#### Quartz

Hugo 기반으로 제작된 Obisidan 특화 SSG다.

Obsidian 특화 기능으로:

1. Graph
2. Backlink
3. Latex, Admontions
4. Wikilinks

등이 있다. 사실 Quartz는 v3.1 시절에도 써봤었고, 그때는 백링크나 그래프 등이 문제 없이 작동했다.

이상한게 v3.3인 지금 시점에서 다시 빌드했더니 백링크, 그래프가 제대로 안 붙는 문제가 발생했다. 또한 위키링크도 다른 directory에 있는 문서들은 제대로 링크가 안 되는 등의 문제가 있다.

테마가 아예 없다는 치명적인 단점을 Obsidian 특화 기능들로 덮는 느낌이 강한데 v3.3로 그 Obsidian 특화 기능들도 정상적으로 동작하지 않아서 빠르게 포기했다.

[v4.0 에는 큰 개선이 있을 것](https://github.com/jackyzha0/quartz/issues/81)이라 하니 그때는 기대해봐도 좋을듯.

#### 그 외 무수한 Obsidian Publish 대안들

Quartz 보다도 쓰기가 힘들어서 포기했다.

#### Jekyll

Ruby 로 작성된 SSG.

빌드가 느리단 이야기가 있어서 사실 가능하면 쓰고 싶지 않았다. 그런데, 버전 4.0.0 부터는 빌드 속도도 빨라진 편이고, 마크다운 엔진도 kramdown 에서 common-markdown 으로 바꿨더니 빌드 시간이 반으로 줄었다.

아직은 문서 양이 적어서 루비 세팅만 끝나면 로컬 기준 1초 안에 빌드되지만, 수정한 페이지만 빌드하는 등의 빌드 시간 줄이는 팁들도 있는듯.

장점
1. 테마가 다양하다
2. 테마 커스터마이징이 편하다
   
   플러그인들을 gem으로 관리하는데 이게 진짜 편하다. jekyll 생태계 자체가 그 기간만큼이나 빠방한 편이라 어지간한건 다 있음.
3. Github Pages 에서 사용하고 있기 때문에 빌드, 배포 절차 없이도 그냥 테마 포크한 repo에 마크다운 문서들 올리기만 하면 알아서 Pages로 보여지게끔 할 수 있음
   
   다만, [Github Pages에서 사용하는 Jekyll 버전이 3.9.2 인데다가 사용할 수 있는 플러그인도 한정적](https://pages.github.com/versions/)이라, 그냥 이런 것도 된다 정도의 의의만 있다. Jekyll의 최신 기능이나 화이트리스트에 등록되지 않은 플러그인을 사용하려면 결국엔 별도로 빌드해서 배포해야 함.

단점
1. 마크다운 문서의 double curly braces (`{{`, `}}`) 를 템플릿 언어로 인식한다 (심지어 코드 블럭에 있는 것까지)
   
   다행히 Jekyll 4 에서는 마크다운 문서는 템플릿 언어로 파싱하지 않게끔 할 수 있다. 물론 이러면 Jekyll Liquid 템플릿 언어로 인한 이점도 싹 포기해야되지만 표준 마크다운으로 문서 관리한다면 상관없는 부분.
2. 백링크 플러그인이 없는듯
   
   내가 못 찾은 걸 수도 있지만 빌드할 때 백링크 달아주는 gem이 없는 것 같다. 백링크는 제텔카스텐에서 중요한 요소인데.. 눈물을 머금고 포기했다.
   
   [관련 내용을 발견](https://terminaladdict.com/jekyll/development/2021/02/05/Jekyll-Backlinks.html)했다! 시간이 나면 추가할 예정.

기타 Jekyll 관련 우여곡절은 해당 포스팅 참고 [Jekyll 블로그를 Github Pages에 호스팅하기](Jekyll%20블로그를%20Github%20Pages에%20호스팅하기.md)

### Hosting

#### Github Pages

호스팅부터 도메인까지 싹 무료! action으로 CI/CD도 가능!

안 쓸 이유가 없다. 정말 감사합니다.

## Repository 분할

Hugo 나 Quartz 블로그를 쓸 때도 느낀 것이지만, Blog Repository에 마크다운 문서까지 다 때려박는 것은 여러모로 좋지 않다. 블로그 Repo는 Public 해야 하는데 이러면 Private한 노트를 쓰기가 많이 어렵다. 그렇다고 .gitignore 로 private directory를 안 올리면 private 문서는 버전 관리를 못 한다.

또한 공개 범위 문제가 아니더라도 마크다운 문서 repo는 따로 분리를 하는 것이 history 관리 및 혹시나 하는 플랫폼 확장에 유리하다.

Repository를 3개로 분할하고 서브모듈로 관리한다.

1. Jekyll Blog
2. Public Markdown notes
3. Private Markdown notes

서브모듈 포함 관계로 포함하면 이런 느낌이다.

- Jekyll Blog
	- Public Markdown notes
		- Private Markdown notes

### Jekyll Blog Repository

https://github.com/906bc906/jekyll-blog

마음에 들었던 Jekyll Paper 테마를 포크한 repo.

서브모듈 : Public Markdown notes repo

액션 :
1. 서브모듈 싱크
	- 해당 repo에 붙은 서브모듈 최신화
	- Public Markdown notes repo가 push 되었을 때 이 액션을 API로 실행해준다
2. Jekyll 빌드
	- 빌드해서 Static한 결과물 출력함
	- `master` 브랜치 푸시되거나, 서브모듈 싱크 액션이 정상적으로 실행 완료되면 이 액션을 실행한다

### Public Markdown notes Repository

https://github.com/906bc906/obsidian-public-vault

공개해도 되는 마크다운 노트들을 관리한다. Obsidian 관련 설정들도 같이 올라가있는 상태.

서브모듈 : Private Markdown notes repo

액션 : 
1. 서브모듈 노티파이
	- 이 repo가 갱신되었음을 Jekyll Blog repo에 알린다 (정확히 말하자면 해당 repo의 sync 액션을 API로 trigger함)
	- `master` 브랜치가 push되면 실행함.

### Private Markdown notes Repository

Gitlab에 Private repo로 올려두었다.

별도 서브모듈이나 CI/CD 없음.

## 아직 남은 작업

백링크 및 검색 엔진 등록 정도 남은듯.

애널리틱스는 붙이지 않을 생각.

